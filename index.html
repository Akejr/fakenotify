<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#8A05BE" id="theme-color">
    <title>Notificações Falsas</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png" id="apple-icon">
    <link rel="icon" href="icons/icon-192x192.png" id="favicon">
</head>
<body>
    <div class="app-container">
        <header>
            <h1>Notificações Falsas</h1>
            <p class="subtitle">Crie notificações falsas de bancos digitais</p>
        </header>

        <main>
            <div class="notification-form">
                <div class="form-group">
                    <label for="app-type">App:</label>
                    <select id="app-type">
                        <option value="nubank">Nubank</option>
                        <option value="picpay">PicPay</option>
                        <option value="mercadopago">Mercado Pago</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="notification-type">Tipo de Notificação:</label>
                    <select id="notification-type">
                        <option value="pix-recebido">Pix Recebido</option>
                        <option value="transferencia">Transferência Recebida</option>
                        <option value="cashback">Cashback</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="name">Nome do Remetente:</label>
                    <input type="text" id="name" placeholder="Ex: João Silva">
                </div>

                <div class="form-group">
                    <label for="amount">Valor (R$):</label>
                    <input type="number" id="amount" placeholder="Ex: 100,00" step="0.01">
                </div>

                <div class="form-group">
                    <label for="delay">Atraso (segundos):</label>
                    <input type="number" id="delay" min="1" max="60" value="5">
                </div>

                <button id="create-notification" class="primary-button">Gerar Notificação</button>
            </div>

            <div class="notification-preview">
                <h3>Preview da Notificação:</h3>
                <div id="preview-container" class="notification nubank">
                    <div class="notification-header">
                        <img src="icons/nubank-icon.png" alt="App Icon" class="app-icon">
                        <div class="notification-app-title">Nubank</div>
                        <div class="notification-time">agora</div>
                    </div>
                    <div class="notification-content">
                        <div class="notification-title">Pix recebido</div>
                        <div class="notification-message">Você recebeu um Pix de R$ <span class="amount-preview">100,00</span> de <span class="name-preview">João Silva</span>.</div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>Criado apenas para fins de brincadeira. Não use para enganar ou prejudicar outras pessoas.</p>
        </footer>
    </div>

    <script src="app.js"></script>
    <script>
        // Registrar o Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('Service worker registrado', reg))
                .catch(err => console.log('Erro ao registrar service worker', err));
        }
        
        // Recuperar e aplicar o último app selecionado se houver
        document.addEventListener('DOMContentLoaded', () => {
            const lastSelectedApp = localStorage.getItem('lastSelectedApp');
            if (lastSelectedApp) {
                const appSelector = document.getElementById('app-type');
                if (appSelector) {
                    appSelector.value = lastSelectedApp;
                    // Disparar o evento change para atualizar a interface
                    appSelector.dispatchEvent(new Event('change'));
                }
            }
        });
    </script>
</body>
</html> 